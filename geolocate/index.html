<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>

Serve me with a Server!

<div id="googleMap" style="width:500px;height:380px;"></div>


<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3"> </script>


<script>


// if (navigator.geolocation) {
//   console.log("supports");

//   var options = {
//     enableHighAccuracy: true,
//     timeout: 5000,
//     maximumAge: 0
//   };

//   function success(pos) {
//     var crd = pos.coords;

//     console.log('Your current position is:');
//     console.log('Latitude : ' + crd.latitude);
//     console.log('Longitude: ' + crd.longitude);
//     console.log('More or less ' + crd.accuracy + ' meters.');

//   };

//   function error(err) {
//     console.warn('ERROR(' + err.code + '): ' + err.message);
//   };

//   navigator.geolocation.getCurrentPosition(success, error, options);
// }
// else {
//   console.log("browser doesn't support")
// }


// // for map
// function initialize(pos) {
  
//   var mapProp = {
//     center:new google.maps.LatLng(40.7484, -73.9857),
//     zoom:18,
//     mapTypeId:google.maps.MapTypeId.ROADMAP
//   };

//   var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
// }

// google.maps.event.addDomListener(window, 'load', initialize);



// very simplified version:

function initialize() {

  if (navigator.geolocation) {
    console.log("supports");

    function success(pos) {
      var crd = pos.coords;

      console.log('Your current position is:');
      console.log('Latitude : ' + crd.latitude);
      console.log('Longitude: ' + crd.longitude);

      var myExactLocation=new google.maps.LatLng(crd.latitude, crd.longitude);

      var mapProp = {
        center:myExactLocation,
        zoom:18,
        mapTypeId:google.maps.MapTypeId.ROADMAP
      };

      var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
      };

      // var marker=new google.maps.Marker({
      //   position:myExactLocation,
      // });

      // marker.setMap(map);

      navigator.geolocation.getCurrentPosition(success);
  }
  else {
    console.log("browser doesn't support")
  }       
}

google.maps.event.addDomListener(window, 'load', initialize);




</script>
	
</body>
</html>